generator client {
  provider = "prisma-client-js"
  output   = "./generated/GeneralBot"
}

datasource db {
  provider = "mongodb"
  url      = env("GENERALBOT_DATABASE_URL")
}

type ConfigAllowed {
  roles String[]
  users String[]
}

type MembersData {
  avatar                       String?
  communication_disabled_until String?
  deaf                         Boolean
  guild_id                     String
  joined_at                    String
  mute                         Boolean
  nick                         String?
  pending                      Boolean
  permissions                  Int?
  premium_since                String?
  roles                        String[]
  user                         MembersDataUser
}

type MembersDataUser {
  accent_color  String?
  avatar        String?
  banner        String?
  bot           Boolean
  discriminator String
  id            String
  public_flags  BigInt
  username      String
}

model config {
  id          String         @id @default(auto()) @map("_id") @db.ObjectId
  allowed     ConfigAllowed?
  config_type String
  data        String?
  group       String?
  name        String

  @@unique([name, config_type])
}

model members {
  id   String      @id @default(auto()) @map("_id") @db.ObjectId
  data MembersData
}
